SYSTEM:
You extract WHO CHW clinical rules. Return ONLY JSON.

SCHEMA
{
  "variables":[{"name":snake,"type":"number|boolean|string","unit":null|unit,"allowed":null|[...],
                "synonyms":[snake...],"prompt":short,"refs":[page_or_section]}],
  "rules":[{"rule_id":str,
            "when":[ {"obs":var,"op":"lt|le|gt|ge|eq|ne","value":num|bool|string} |
                     {"sym":var,"eq":true|false} |
                     {"all_of":[COND...]} | {"any_of":[COND...]} ],
            "then":{"triage":"hospital|clinic|home",
                    "flags":[snake...],
                    "reasons":[snake...],
                    "actions":[{"id":snake,"if_available":bool}],
                    "advice":[string...],
                    "guideline_ref":str,"priority":int}}],
  "canonical_map":{},
  "qa":{"notes":[]}
}

RULES
- Use canonical names if present: diarrhea, blood_in_stool, diarrhea_duration_days, fever, temperature_c, fever_duration_days, cough, cough_duration_days, resp_rate, age_months, chest_indrawing, muac_mm, edema_both_feet, convulsions, unconscious, unable_to_drink, vomiting_everything, malaria_area
- Add all seen aliases into synonyms and rewrite conditions to the canonical
- No derived outputs in conditions (ban danger_sign, clinic_referral, triage)
- Encode literal thresholds only. No invented cutoffs. No “..”
- Priority tiers: hospital≥90, clinic 50–89, home<50
- Every rule gets guideline_ref like "p41" or section id

OUTPUT
Only the JSON object for THIS section

USER:
SECTION_ID: p136-136

TEXT:
[PAGE 136]
1. Identify Problems  
ASK and LOOK  Any DANGER SIGN  
 
 
2. DECIDE: Refer or treat child  
 (Tick  decision)  
 
 SICK but NO danger sign  
ASK: What are the child’s problems?  
If not reported, then ask to be sure  
YES,  sign present    Tick  No sign   Circle    
 
  Cough? If YES, for how long?       days    Cough for 14 days or more  
   Diarrhoea (3 or more loose stools in 24 hours)?  
            IF YES, for how long?       days.    Diarrhoea for 14 days  
 or more    Diarrhoea  (less than 14 
 days AND no blood in 
 stool)    If DIARRHOEA, blood in stool?    Blood in stool  
  Convulsions?    Convulsions  
    Fever (reported or now)  
            IF YES, started        days ago.    Fever for last 7 days  
 or more    Fever (less than 7 days)  
 in a malaria area  
   Difficulty drinking or feeding?  
            IF YES,  not able to drink or feed anything?     Not able to drink or  
 feed anything  
   Vomiting? IF YES,  vomits everything?     Vomits everything  
LOOK:  
  Chest indrawing? (FOR ALL CHILDREN)    Chest indrawing   
IF COUGH, count breaths in 1 minute:  
       breaths per minute (bpm).  
 
  Fast breathing:  
 Age 2 months up to 12 months: 50bpm or more  
 Age 12 months up to 5 years: 40bpm or more     Fast breathing    
  Unusually sleepy or unconscious?    Unusually sleepy or unconscious  
For child 6 months up to 5 years, MUAC strap colour:  
Red     Yellow     Green            Red on MUAC strap  
   Swelling of both feet?     Swelling of both feet   
  Yellow on MUAC strap  
 
  If ANY Danger Sign,  
 refer to health facility    If NO Danger Sign, treat 
 at  home and advise 
 caregiver  
GO TO PAGE 2  SICK CHILD RECORDING FORM  
(for community -based treatment of child age 2 months up to 5 years)  
Date:  ____ / _____ / 20__  
(Day / Month / Year)  CHW:   
Child’s name:  First:    Family: :    Age:    Years       Months  Boy / Girl  
Caregiver’s name:        Relationship:  Mother / Father / Other              
Address, Community:


ERR:35 validation errors for IR
rules.2.when.0.ObsCond.op
  Field required [type=missing, input_value={'obs': 'blood_in_stool', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.2.when.0.ObsCond.value
  Field required [type=missing, input_value={'obs': 'blood_in_stool', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.2.when.0.SymCond.sym
  Field required [type=missing, input_value={'obs': 'blood_in_stool', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.2.when.0.AllOf.all_of
  Field required [type=missing, input_value={'obs': 'blood_in_stool', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.2.when.0.AnyOf.any_of
  Field required [type=missing, input_value={'obs': 'blood_in_stool', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.3.when.0.ObsCond.op
  Field required [type=missing, input_value={'obs': 'convulsions', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.3.when.0.ObsCond.value
  Field required [type=missing, input_value={'obs': 'convulsions', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.3.when.0.SymCond.sym
  Field required [type=missing, input_value={'obs': 'convulsions', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.3.when.0.AllOf.all_of
  Field required [type=missing, input_value={'obs': 'convulsions', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.3.when.0.AnyOf.any_of
  Field required [type=missing, input_value={'obs': 'convulsions', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.5.when.0.ObsCond.op
  Field required [type=missing, input_value={'obs': 'unable_to_drink', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.5.when.0.ObsCond.value
  Field required [type=missing, input_value={'obs': 'unable_to_drink', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.5.when.0.SymCond.sym
  Field required [type=missing, input_value={'obs': 'unable_to_drink', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.5.when.0.AllOf.all_of
  Field required [type=missing, input_value={'obs': 'unable_to_drink', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.5.when.0.AnyOf.any_of
  Field required [type=missing, input_value={'obs': 'unable_to_drink', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.6.when.0.ObsCond.op
  Field required [type=missing, input_value={'obs': 'vomiting_everything', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.6.when.0.ObsCond.value
  Field required [type=missing, input_value={'obs': 'vomiting_everything', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.6.when.0.SymCond.sym
  Field required [type=missing, input_value={'obs': 'vomiting_everything', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.6.when.0.AllOf.all_of
  Field required [type=missing, input_value={'obs': 'vomiting_everything', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.6.when.0.AnyOf.any_of
  Field required [type=missing, input_value={'obs': 'vomiting_everything', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.7.when.0.ObsCond.op
  Field required [type=missing, input_value={'obs': 'chest_indrawing', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.7.when.0.ObsCond.value
  Field required [type=missing, input_value={'obs': 'chest_indrawing', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.7.when.0.SymCond.sym
  Field required [type=missing, input_value={'obs': 'chest_indrawing', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.7.when.0.AllOf.all_of
  Field required [type=missing, input_value={'obs': 'chest_indrawing', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.7.when.0.AnyOf.any_of
  Field required [type=missing, input_value={'obs': 'chest_indrawing', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.11.when.0.ObsCond.op
  Field required [type=missing, input_value={'obs': 'edema_both_feet', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.11.when.0.ObsCond.value
  Field required [type=missing, input_value={'obs': 'edema_both_feet', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.11.when.0.SymCond.sym
  Field required [type=missing, input_value={'obs': 'edema_both_feet', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.11.when.0.AllOf.all_of
  Field required [type=missing, input_value={'obs': 'edema_both_feet', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.11.when.0.AnyOf.any_of
  Field required [type=missing, input_value={'obs': 'edema_both_feet', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.12.when.0.ObsCond.op
  Field required [type=missing, input_value={'obs': 'unconscious', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.12.when.0.ObsCond.value
  Field required [type=missing, input_value={'obs': 'unconscious', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.12.when.0.SymCond.sym
  Field required [type=missing, input_value={'obs': 'unconscious', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.12.when.0.AllOf.all_of
  Field required [type=missing, input_value={'obs': 'unconscious', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
rules.12.when.0.AnyOf.any_of
  Field required [type=missing, input_value={'obs': 'unconscious', 'eq': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing