```xml
<dmn:definitions xmlns:dmn="https://www.omg.org/spec/DMN/20191111/MODEL/" id="defs" name="triage_modular">
  <!-- Inputs -->
  <dmn:inputData id="in_danger_sign_present" name="danger_sign_present"><dmn:variable name="danger_sign_present" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_convulsions_present" name="convulsions_present"><dmn:variable name="convulsions_present" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_not_able_to_drink_or_feed_anything" name="not_able_to_drink_or_feed_anything"><dmn:variable name="not_able_to_drink_or_feed_anything" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_vomits_everything" name="vomits_everything"><dmn:variable name="vomits_everything" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_chest_indrawing" name="chest_indrawing"><dmn:variable name="chest_indrawing" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_unusually_sleepy_or_unconscious" name="unusually_sleepy_or_unconscious"><dmn:variable name="unusually_sleepy_or_unconscious" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_muac_color" name="muac_color"><dmn:variable name="muac_color" typeRef="string"/></dmn:inputData>
  <dmn:inputData id="in_swelling_of_both_feet" name="swelling_of_both_feet"><dmn:variable name="swelling_of_both_feet" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_cough_present" name="cough_present"><dmn:variable name="cough_present" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_cough_duration_days" name="cough_duration_days"><dmn:variable name="cough_duration_days" typeRef="number"/></dmn:inputData>
  <dmn:inputData id="in_diarrhoea_present" name="diarrhoea_present"><dmn:variable name="diarrhoea_present" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_diarrhoea_duration_days" name="diarrhoea_duration_days"><dmn:variable name="diarrhoea_duration_days" typeRef="number"/></dmn:inputData>
  <dmn:inputData id="in_blood_in_stool" name="blood_in_stool"><dmn:variable name="blood_in_stool" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_fever_present" name="fever_present"><dmn:variable name="fever_present" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_fever_duration_days" name="fever_duration_days"><dmn:variable name="fever_duration_days" typeRef="number"/></dmn:inputData>
  <dmn:inputData id="in_malaria_area" name="malaria_area"><dmn:variable name="malaria_area" typeRef="boolean"/></dmn:inputData>
  <dmn:inputData id="in_fast_breathing" name="fast_breathing"><dmn:variable name="fast_breathing" typeRef="boolean"/></dmn:inputData>

  <!-- Module A: immediate critical signs -->
  <dmn:decision id="decide_module_a" name="decide_module_a">
    <dmn:variable name="decide_module_a" typeRef="string"/>
    <dmn:decisionTable hitPolicy="FIRST">
      <dmn:input id="a1"><dmn:inputExpression typeRef="boolean">convulsions_present</dmn:inputExpression></dmn:input>
      <dmn:input id="a2"><dmn:inputExpression typeRef="boolean">not_able_to_drink_or_feed_anything</dmn:inputExpression></dmn:input>
      <dmn:input id="a3"><dmn:inputExpression typeRef="boolean">vomits_everything</dmn:inputExpression></dmn:input>
      <dmn:input id="a4"><dmn:inputExpression typeRef="boolean">chest_indrawing</dmn:inputExpression></dmn:input>
      <dmn:input id="a5"><dmn:inputExpression typeRef="boolean">unusually_sleepy_or_unconscious</dmn:inputExpression></dmn:input>
      <dmn:input id="a6"><dmn:inputExpression typeRef="string">muac_color</dmn:inputExpression></dmn:input>
      <dmn:input id="a7"><dmn:inputExpression typeRef="boolean">swelling_of_both_feet</dmn:inputExpression></dmn:input>

      <dmn:output name="triage" typeRef="string"/>
      <dmn:output name="danger_sign" typeRef="boolean"/>
      <dmn:output name="clinic_referral" typeRef="boolean"/>
      <dmn:output name="reason" typeRef="string"/>
      <dmn:output name="ref" typeRef="string"/>
      <dmn:output name="advice" typeRef="string"/>

      <dmn:rule>
        <dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Convulsions"</dmn:outputEntry><dmn:outputEntry>"p6-6,p33,p50,p122"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Not able to drink or feed anything"</dmn:outputEntry><dmn:outputEntry>"p6-6,p33,p50,p122"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Vomits everything"</dmn:outputEntry><dmn:outputEntry>"p6-6,p33,p50,p122"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Chest indrawing"</dmn:outputEntry><dmn:outputEntry>"p6-6,p24,p43,p50"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Unusually sleepy or unconscious"</dmn:outputEntry><dmn:outputEntry>"p6-6,p32,p33,p50,p122"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>"Red on MUAC strap"</dmn:inputEntry>
        <dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Red on MUAC strap"</dmn:outputEntry><dmn:outputEntry>"p6-6,p43,p50"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:inputEntry>true</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Swelling of both feet"</dmn:outputEntry><dmn:outputEntry>"p6-6,p43,p50"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>"Yellow on MUAC strap"</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Yellow on MUAC strap"</dmn:outputEntry><dmn:outputEntry>"p6-6,p48,p50"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry>
        <dmn:outputEntry>"home"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>"No immediate danger sign"</dmn:outputEntry><dmn:outputEntry>"p7,p60"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>

  <!-- Module B: thresholds/prolonged -->
  <dmn:decision id="decide_module_b" name="decide_module_b">
    <dmn:variable name="decide_module_b" typeRef="string"/>
    <dmn:decisionTable hitPolicy="FIRST">
      <dmn:input><dmn:inputExpression typeRef="boolean">cough_present</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="number">cough_duration_days</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">diarrhoea_present</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="number">diarrhoea_duration_days</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">blood_in_stool</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">fever_present</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="number">fever_duration_days</dmn:inputExpression></dmn:input>

      <dmn:output name="triage" typeRef="string"/>
      <dmn:output name="danger_sign" typeRef="boolean"/>
      <dmn:output name="clinic_referral" typeRef="boolean"/>
      <dmn:output name="reason" typeRef="string"/>
      <dmn:output name="ref" typeRef="string"/>
      <dmn:output name="advice" typeRef="string"/>

      <dmn:rule>
        <dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>&gt;= 14</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Cough for 14 days or more"</dmn:outputEntry><dmn:outputEntry>"p40,p43"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>&gt;= 14</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Diarrhoea for 14 days or more"</dmn:outputEntry><dmn:outputEntry>"p43"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Blood in stool"</dmn:outputEntry><dmn:outputEntry>"p43,p138"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>&gt;= 7</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Fever for last 7 days or more"</dmn:outputEntry><dmn:outputEntry>"p43"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>&lt; 14</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>&lt; 14</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Diarrhoea (less than 14 days AND no blood in stool)"</dmn:outputEntry><dmn:outputEntry>"p6-6,p48,p50"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>&lt; 14</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>&lt; 7</dmn:inputEntry>
        <dmn:outputEntry>"home"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>"No threshold or prolonged signs"</dmn:outputEntry><dmn:outputEntry>"p7,p60"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>

  <!-- Module C: malaria context -->
  <dmn:decision id="decide_module_c" name="decide_module_c">
    <dmn:variable name="decide_module_c" typeRef="string"/>
    <dmn:decisionTable hitPolicy="FIRST">
      <dmn:input><dmn:inputExpression typeRef="boolean">fever_present</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="number">fever_duration_days</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">malaria_area</dmn:inputExpression></dmn:input>

      <dmn:output name="triage" typeRef="string"/>
      <dmn:output name="danger_sign" typeRef="boolean"/>
      <dmn:output name="clinic_referral" typeRef="boolean"/>
      <dmn:output name="reason" typeRef="string"/>
      <dmn:output name="ref" typeRef="string"/>
      <dmn:output name="advice" typeRef="string"/>

      <dmn:rule>
        <dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>&lt; 7</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Fever (less than 7 days) in a malaria area"</dmn:outputEntry><dmn:outputEntry>"p6-6,p48,p60,p139"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>&gt;= 7</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Fever for last 7 days or more"</dmn:outputEntry><dmn:outputEntry>"p48,p50,p103"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"home"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>"No fever pathway"</dmn:outputEntry><dmn:outputEntry>"p7,p60"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>

  <!-- Module D: fast breathing without danger signs -->
  <dmn:decision id="decide_module_d" name="decide_module_d">
    <dmn:variable name="decide_module_d" typeRef="string"/>
    <dmn:decisionTable hitPolicy="FIRST">
      <dmn:input><dmn:inputExpression typeRef="boolean">fast_breathing</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">danger_sign_present</dmn:inputExpression></dmn:input>

      <dmn:output name="triage" typeRef="string"/>
      <dmn:output name="danger_sign" typeRef="boolean"/>
      <dmn:output name="clinic_referral" typeRef="boolean"/>
      <dmn:output name="reason" typeRef="string"/>
      <dmn:output name="ref" typeRef="string"/>
      <dmn:output name="advice" typeRef="string"/>

      <dmn:rule>
        <dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Fast breathing"</dmn:outputEntry><dmn:outputEntry>"p6-6,p101-101,p139"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Fast breathing with danger sign"</dmn:outputEntry><dmn:outputEntry>"p136"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"home"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>"No fast breathing"</dmn:outputEntry><dmn:outputEntry>"p45,p61"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>

  <!-- Module E: simple home care conditions -->
  <dmn:decision id="decide_module_e" name="decide_module_e">
    <dmn:variable name="decide_module_e" typeRef="string"/>
    <dmn:decisionTable hitPolicy="FIRST">
      <dmn:input><dmn:inputExpression typeRef="boolean">danger_sign_present</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">diarrhoea_present</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="number">diarrhoea_duration_days</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">blood_in_stool</dmn:inputExpression></dmn:input>

      <dmn:output name="triage" typeRef="string"/>
      <dmn:output name="danger_sign" typeRef="boolean"/>
      <dmn:output name="clinic_referral" typeRef="boolean"/>
      <dmn:output name="reason" typeRef="string"/>
      <dmn:output name="ref" typeRef="string"/>
      <dmn:output name="advice" typeRef="string"/>

      <dmn:rule>
        <dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Any danger sign"</dmn:outputEntry><dmn:outputEntry>"p6-6,p50,p139"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>&lt; 14</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry>
        <dmn:outputEntry>"home"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>"Diarrhoea (less than 14 days AND no blood in stool)"</dmn:outputEntry><dmn:outputEntry>"p45,p48,p60,p68"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>&gt;= 14</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Diarrhoea for 14 days or more"</dmn:outputEntry><dmn:outputEntry>"p48,p50,p103"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>

  <!-- Aggregate final -->
  <dmn:decision id="aggregate_final" name="aggregate_final">
    <dmn:variable name="aggregate_final" typeRef="string"/>
    <dmn:informationRequirement><dmn:requiredDecision href="#decide_module_b"/></dmn:informationRequirement>
    <dmn:informationRequirement><dmn:requiredDecision href="#decide_module_c"/></dmn:informationRequirement>
    <dmn:informationRequirement><dmn:requiredDecision href="#decide_module_d"/></dmn:informationRequirement>
    <dmn:informationRequirement><dmn:requiredDecision href="#decide_module_e"/></dmn:informationRequirement>
    <dmn:decisionTable hitPolicy="FIRST">
      <dmn:input><dmn:inputExpression typeRef="boolean">decide_module_b.danger_sign</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">decide_module_c.clinic_referral</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">decide_module_d.clinic_referral</dmn:inputExpression></dmn:input>
      <dmn:input><dmn:inputExpression typeRef="boolean">decide_module_e.clinic_referral</dmn:inputExpression></dmn:input>

      <dmn:output name="triage" typeRef="string"/>
      <dmn:output name="danger_sign" typeRef="boolean"/>
      <dmn:output name="clinic_referral" typeRef="boolean"/>
      <dmn:output name="reason" typeRef="string"/>
      <dmn:output name="ref" typeRef="string"/>
      <dmn:output name="advice" typeRef="string"/>

      <dmn:rule>
        <dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"hospital"</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Danger sign present"</dmn:outputEntry><dmn:outputEntry>"aggregate_policy"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Referral needed"</dmn:outputEntry><dmn:outputEntry>"aggregate_policy"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry><dmn:inputEntry>-</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Referral needed"</dmn:outputEntry><dmn:outputEntry>"aggregate_policy"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>true</dmn:inputEntry>
        <dmn:outputEntry>"clinic"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>true</dmn:outputEntry><dmn:outputEntry>"Referral needed"</dmn:outputEntry><dmn:outputEntry>"aggregate_policy"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
      <dmn:rule>
        <dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry><dmn:inputEntry>false</dmn:inputEntry>
        <dmn:outputEntry>"home"</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>false</dmn:outputEntry><dmn:outputEntry>"No referral needed"</dmn:outputEntry><dmn:outputEntry>"aggregate_policy"</dmn:outputEntry><dmn:outputEntry>""</dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>
</dmn:definitions>
```

```json
[
  {"module":"module_a","ask":["convulsions_present","not_able_to_drink_or_feed_anything","vomits_everything","chest_indrawing","unusually_sleepy_or_unconscious","muac_color","swelling_of_both_feet"]},
  {"module":"module_b","ask":["cough_present","cough_duration_days","diarrhoea_present","diarrhoea_duration_days","blood_in_stool","fever_present","fever_duration_days"]},
  {"module":"module_c","ask":["fever_present","fever_duration_days","malaria_area"],"followups_if":{}},
  {"module":"module_d","ask":["fast_breathing","danger_sign_present"],"followups_if":{}},
  {"module":"module_e","ask":["danger_sign_present","diarrhoea_present","diarrhoea_duration_days","blood_in_stool"],"followups_if":{}}
]
```